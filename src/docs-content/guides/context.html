<h1 id="context">Context</h1>
<h3 id="what-is-context-">What is Context?</h3>
<p>Context is a global object which can be used to store global variables, singleton objects etc. and bind them in your components as props. You can see it as a dependency injector for Stencil.</p>
<h3 id="how-to-bind-a-context-item">How to Bind a Context Item</h3>

<highlight-code-line >
  <pre class="language-tsx"><code class="language-tsx">@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  tag<span class="token punctuation">:</span> <span class="token string">'my-component'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> context<span class="token punctuation">:</span> <span class="token string">'myObj'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">private</span> myObj<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</highlight-code-line>
<h3 id="how-to-define-a-context-item">How to Define a Context Item</h3>
<p>Context items are defined by directly binding to the global <code>Context</code> object. As a best practice you can use <code>src/global</code> to store the definitions.</p>
<p>First you need to define the item:</p>

<highlight-code-line >
  <pre class="language-tsx"><code class="language-tsx"><span class="token comment">// src/global/myObj.ts</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> privateInstance <span class="token operator">=</span> <span class="token operator">...</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    call<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      privateInstance<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</highlight-code-line>
<p>Then create a global script that will be used to reference all the context items:</p>

<highlight-code-line >
  <pre class="language-tsx"><code class="language-tsx"><span class="token comment">// src/global/index.ts</span>

<span class="token keyword">import</span> myObj <span class="token keyword">from</span> <span class="token string">'./myObj'</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">var</span> Context<span class="token punctuation">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

Context<span class="token punctuation">.</span>globalVar <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
Context<span class="token punctuation">.</span>myObj <span class="token operator">=</span> myObj<span class="token punctuation">;</span></code></pre>
</highlight-code-line>
<p>Finally just add the global script in config:</p>

<highlight-code-line >
  <pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span><span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  globalScript<span class="token punctuation">:</span> <span class="token string">'src/global/index.ts'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</highlight-code-line>
<p><stencil-route-link url="/docs/service-workers" router="#router" custom="true">
  <button class='pull-left btn btn--secondary'>
    Back
  </button>
</stencil-route-link></p>
<p><stencil-route-link url="/docs/unit-testing" custom="true">
  <button class='pull-right btn btn--primary'>
    Next
  </button>
</stencil-route-link></p>
