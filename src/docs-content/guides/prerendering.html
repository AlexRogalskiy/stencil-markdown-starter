<h1 id="prerendering">Prerendering</h1>
<p>One of the benefits of Stencil is that it allows for prerendering of your web components. Prerendering generates static html+css files at build time that can then be served to the browser and hydrated with your actual web components on the fly. For an example of what this looks like, right click on this page and hit the view source button.</p>
<p>Prerendering is built into the Stencil compiler itself and by default our <a href="https://github.com/ionic-team/stencil-app-starter">app starter</a> has it turned on for production builds.</p>
<h3 id="benefits">Benefits</h3>
<ul>
<li>Faster time to <a href="https://developers.google.com/web/tools/lighthouse/audits/first-meaningful-paint">first meaningful paint</a></li>
<li>Better SEO</li>
<li>Still provides some functionality for users with JavaScript disabled</li>
</ul>
<h3 id="things-to-watch-for">Things to watch for</h3>
<ul>
<li>Data that you are fetching from an api should not be prerendered as this data is dynamic and is going to change.</li>
</ul>
<p>Stencil provides an <code>isServer</code> utility variable to tell prerendering to skip code. Here is an example of how to use this utility:</p>

<highlight-code-line >
  <pre class="language-tsx"><code class="language-tsx">@<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> context<span class="token punctuation">:</span> <span class="token string">'isServer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">private</span> isServer<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token function">componentWillLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// isServer is false when running in the browser</span>
  <span class="token comment">// and true when being prerendered</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isServer <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'someUrl'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</highlight-code-line>
<p><stencil-route-link url="/docs/distribution" router="#router" custom="true">
  <button class="pull-left btn btn--secondary">
    Back
  </button>
</stencil-route-link></p>
<p><stencil-route-link url="/docs/server-side-rendering" custom="true">
  <button class="pull-right btn btn--primary">
    Next
  </button>
</stencil-route-link></p>
